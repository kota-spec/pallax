!function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}t.exports=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}},function(t,e,n){n(4),t.exports=n(3)},function(t,e,n){"use strict";function i(){}function o(t){return t?Array.prototype.slice.call(t,0):[]}function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return"string"==typeof t?o(e.querySelectorAll(t)):t.length?t.map?t:o(t):[t]}n.r(e),n.d(e,"noop",function(){return i}),n.d(e,"getElements",function(){return r})},function(t,e,n){"use strict";n.r(e);var i=n(0),o=n.n(i),r=n(1),s=n.n(r),l=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o()(this,t),this._els=this._getElements(e);var i=n.onResize,r=void 0===i?function(){return null}:i,s=n.onScroll,l=void 0===s?function(){return null}:s;this._optionOnResize=r,this._optionOnScroll=l,this._scrollTarget=document.scrollingElement||document.documentElement,this._viewport=this.scrollY+window.innerHeight,this._items=null,this._onResize=this._onResize.bind(this)}return s()(t,[{key:"init",value:function(){this._cache(),this._tick(),this._onListener()}},{key:"_onListener",value:function(){window.addEventListener("resize",this._onResize)}},{key:"_cache",value:function(){var t=this;this._windowHeight=window.innerHeight,this._items=this._els.map(function(e){e.style.transform="none";var n=window.getComputedStyle(e).willChange;return e.style.willChange="transform","auto"!==n&&"transform"!==n&&(e.style.willChange+=", "+n),t._cacheElementPos(e)})}},{key:"_cacheElementPos",value:function(t){var e=t.getBoundingClientRect(),n=t.parentNode.getBoundingClientRect(),i=n.top+this.scrollY;return{el:t,top:i,bottom:i+n.height,max:n.height-e.height}}},{key:"_tick",value:function(){var t=this,e=this._scrollTarget.scrollTop;e!==this._scrollTop&&(this._scrollTop=e,this._updateBg()),this._animationFrameId=requestAnimationFrame(function(){return t._tick()})}},{key:"_updateBg",value:function(){var t=this;this._viewport=this._scrollTop+window.innerHeight,this._items.map(function(e){var n=e.el.getBoundingClientRect(),i=e.el.parentNode.getBoundingClientRect();return e.top=i.top+t._scrollTop,e.bottom=e.top+i.height,e.max=i.height-n.height,e}),this._update()}},{key:"_update",value:function(){var t=this;this._items.forEach(function(e){return t._updateElement(e)})}},{key:"_updateElement",value:function(t){if(this._scrollTop>t.bottom||this._viewport<t.top);else if(this._viewport>t.top&&this._scrollTop<t.bottom){var e=(this._viewport-t.top)/(window.innerHeight+t.el.parentNode.clientHeight),n=t.max*e;t.el.style.transform="translate3d(0, ".concat(n,"px, 0)")}}},{key:"_onResize",value:function(){this._scrollTop=this._scrollTarget.scrollTop,this._updateBg(),this._optionOnResize()}},{key:"_makeArray",value:function(t){return t?Array.prototype.slice.call(t,0):[]}},{key:"_getElements",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;if("string"==typeof t){var n=e.querySelectorAll(t);return this._makeArray(n)}return t.length?t.map?t:this._makeArray(t):[t]}}]),t}(),a=function(){function t(e){o()(this,t),this.els=this._getElements(e),this._speed=.1,this._items=null,this._scrollTarget=document.scrollingElement||document.documentElement,this._animationFrameId=0,this._scrollTop=this._scrollTarget.scrollTop,this._viewport=this._scrollTop+window.innerHeight,this._onResize=this._onResize.bind(this)}return s()(t,[{key:"init",value:function(){this._cache(),this._update(),this._tick(),this._onListener()}},{key:"_onListener",value:function(){window.addEventListener("resize",this._onResize)}},{key:"_cache",value:function(){var t=this;this._speed*=window.innerWidth/window.innerHeight,this._windowHeight=window.innerHeight;var e=window.scrollY||window.pageYOffset;this._items=this.els.map(function(n){n.style.transform="none";var i=window.getComputedStyle(n).willChange;return n.style.willChange="transform","auto"!==i&&"transform"!==i&&(n.style.willChange+=", "+i),t._cacheElementPos(n,e)}).filter(function(t){return t})}},{key:"_cacheElementPos",value:function(t){var e=t.getBoundingClientRect(),n=e.top+this._scrollTop;return{el:t,top:n,center:n+e.height/2,speed:parseFloat(t.dataset.speed)||this._speed,inPos:n-this._windowHeight,outPos:e.bottom+this._scrollTop,position:0}}},{key:"_tick",value:function(){var t=this,e=this._scrollTarget.scrollTop;e!==this._scrollTop&&(this._scrollTop=e,this._updateData()),this._animationFrameId=requestAnimationFrame(function(){return t._tick()})}},{key:"_updateData",value:function(){var t=this;this._viewport=this._scrollTop+window.innerHeight,this._items.map(function(e){var n=e.el.getBoundingClientRect(),i=n.top+t._scrollTop;return e.top=i,e.center=i+n.height/2,e}),this._update()}},{key:"_update",value:function(){var t=this;this._items.forEach(function(e){return t._updateElement(e)})}},{key:"_onResize",value:function(){this._updateData()}},{key:"_updateElement",value:function(t){if(this._scrollTop>t.center||this._viewport<t.center);else if(this._viewport>t.center&&this._scrollTop<t.center){var e=(this._viewport-t.center)*t.speed;e<=300&&(t.position=e,t.el.style.transform="translate3d(0, ".concat(e,"px, 0)"))}}},{key:"_makeArray",value:function(t){return t?Array.prototype.slice.call(t,0):[]}},{key:"_getElements",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;if("string"==typeof t){var n=e.querySelectorAll(t);return this._makeArray(n)}return t.length?t.map?t:this._makeArray(t):[t]}}]),t}(),c=function(){function t(e){o()(this,t),this.$$headingWrap=this.getElements(e),this.parentWidth=0,this.scrollY=window.scrollY||window.pageYOffset,this._animationFrameId=0,this.originalHeight=this.$$headingWrap.clientHeight,this.onResize=this.onResize.bind(this)}return s()(t,[{key:"init",value:function(){this.setAspect(),this.setOriginalHeight(),this.onListener()}},{key:"onListener",value:function(){this.tick(),window.addEventListener("resize",this.onResize)}},{key:"onResize",value:function(){this.setAspect(),this.setOriginalHeight()}},{key:"tick",value:function(){var t=this,e=window.scrollY||window.pageYOffset;this.scrollY!==this._scrollTop&&(this.scrollY=e,this.onScroll()),this._animationFrameId=requestAnimationFrame(function(){return t.tick()})}},{key:"onScroll",value:function(){var t=1-this.scrollY/this.originalHeight;this.$$headingWrap.style.height="".concat(this.originalHeight*t,"px")}},{key:"setOriginalHeight",value:function(){var t=this.$$headingWrap.clientHeight+this.scrollY;this.originalHeight=t}},{key:"setAspect",value:function(){this.parentWidth=this.$$headingWrap.clientWidth,this.$$headingWrap.style.height="".concat(.66*this.parentWidth-this.scrollY,"px")}},{key:"getElements",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return"string"==typeof t?e.getElementById(t):t}}]),t}();window.addEventListener("DOMContentLoaded",function(){var t=document.querySelector(".js-test-bg"),e=document.querySelectorAll(".js-test-panele"),n=new a(e),i=new c("js-test-heading-wrap"),o=new l(t);n.init(),i.init(),o.init()})}]);