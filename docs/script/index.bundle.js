!function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=2)}([function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function i(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t.exports=function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}},function(t,e,i){t.exports=i(3)},function(t,e,i){"use strict";i.r(e);var n=i(0),o=i.n(n),s=i(1),r=i.n(s),l=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o()(this,t),this._els=this._getElements(e);var n=i.speed,s=void 0===n?1:n,r=i.onResize,l=void 0===r?function(){return null}:r,a=i.onScroll,h=void 0===a?function(){return null}:a;this._speed=s,this._optionOnResize=l,this._optionOnScroll=h,this._scrollTarget=document.scrollingElement||document.documentElement,this._viewport=this.scrollY+window.innerHeight,this._items=null,this._onResize=this._onResize.bind(this)}return r()(t,[{key:"init",value:function(){this._cache(),this._tick(),this._onListener()}},{key:"_onListener",value:function(){window.addEventListener("resize",this._onResize)}},{key:"_cache",value:function(){var t=this;this._windowHeight=window.innerHeight,this._items=this._els.map(function(e){e.style.transform="none";var i=window.getComputedStyle(e).willChange;return e.style.willChange="transform","auto"!==i&&"transform"!==i&&(e.style.willChange+=", "+i),t._cacheElementPos(e)})}},{key:"_cacheElementPos",value:function(t){var e=t.getBoundingClientRect(),i=t.parentNode.getBoundingClientRect(),n=i.top+this.scrollY;return{el:t,top:n,bottom:n+i.height,max:i.height-e.height}}},{key:"_tick",value:function(){var t=this,e=this._scrollTarget.scrollTop;e!==this._scrollTop&&(this._scrollTop=e,this._updateBg()),this._animationFrameId=requestAnimationFrame(function(){return t._tick()})}},{key:"_updateBg",value:function(){var t=this;this._viewport=this._scrollTop+window.innerHeight,this._items.map(function(e){var i=e.el.getBoundingClientRect(),n=e.el.parentNode.getBoundingClientRect();return e.top=n.top+t._scrollTop,e.bottom=e.top+n.height,e.max=n.height-i.height,e}),this._update()}},{key:"_update",value:function(){var t=this;this._items.forEach(function(e){return t._updateElement(e)})}},{key:"_updateElement",value:function(t){if(this._scrollTop>t.bottom||this._viewport<t.top);else if(this._viewport>t.top&&this._scrollTop<t.bottom){var e=(this._viewport-t.top)/(window.innerHeight+t.el.parentNode.clientHeight),i=t.max*this._speed*e,n=-t.max<=-i?t.max:i;t.el.style.transform="translate3d(0, ".concat(n,"px, 0)")}}},{key:"_onResize",value:function(){this._scrollTop=this._scrollTarget.scrollTop,this._updateBg(),this._optionOnResize()}},{key:"_makeArray",value:function(t){return t?Array.prototype.slice.call(t,0):[]}},{key:"_getElements",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;if("string"==typeof t){var i=e.querySelectorAll(t);return this._makeArray(i)}return t.length?t.map?t:this._makeArray(t):[t]}}]),t}(),a=function(){function t(e){o()(this,t),this.els=this._getElements(e),this._speed=.1,this._items=null,this._scrollTarget=document.scrollingElement||document.documentElement,this._animationFrameId=0,this._scrollTop=this._scrollTarget.scrollTop,this._viewport=this._scrollTop+window.innerHeight,this._onResize=this._onResize.bind(this)}return r()(t,[{key:"init",value:function(){this._cache(),this._update(),this._tick(),this._onListener()}},{key:"_onListener",value:function(){window.addEventListener("resize",this._onResize)}},{key:"_cache",value:function(){var t=this;this._speed*=window.innerWidth/window.innerHeight,this._windowHeight=window.innerHeight;var e=window.scrollY||window.pageYOffset;this._items=this.els.map(function(i){i.style.transform="none";var n=window.getComputedStyle(i).willChange;return i.style.willChange="transform","auto"!==n&&"transform"!==n&&(i.style.willChange+=", "+n),t._cacheElementPos(i,e)}).filter(function(t){return t})}},{key:"_cacheElementPos",value:function(t){var e=t.getBoundingClientRect(),i=e.top+this._scrollTop;return{el:t,top:i,center:i+e.height/2,speed:parseFloat(t.dataset.speed)||this._speed,inPos:i-this._windowHeight,outPos:e.bottom+this._scrollTop,position:0}}},{key:"_tick",value:function(){var t=this,e=this._scrollTarget.scrollTop;e!==this._scrollTop&&(this._scrollTop=e,this._updateData()),this._animationFrameId=requestAnimationFrame(function(){return t._tick()})}},{key:"_updateData",value:function(){var t=this;this._viewport=this._scrollTop+window.innerHeight,this._items.map(function(e){var i=e.el.getBoundingClientRect(),n=i.top+t._scrollTop;return e.top=n,e.center=n+i.height/2,e}),this._update()}},{key:"_update",value:function(){var t=this;this._items.forEach(function(e){return t._updateElement(e)})}},{key:"_onResize",value:function(){this._updateData()}},{key:"_updateElement",value:function(t){if(this._scrollTop>t.center||this._viewport<t.center);else if(this._viewport>t.center&&this._scrollTop<t.center){var e=(this._viewport-t.center)*t.speed;e<=300&&(t.position=e,t.el.style.transform="translate3d(0, ".concat(e,"px, 0)"))}}},{key:"_makeArray",value:function(t){return t?Array.prototype.slice.call(t,0):[]}},{key:"_getElements",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;if("string"==typeof t){var i=e.querySelectorAll(t);return this._makeArray(i)}return t.length?t.map?t:this._makeArray(t):[t]}}]),t}(),h=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o()(this,t);var n=i.speed,s=void 0===n?1.5:n,r=i.aspect,l=void 0===r?.66:r,a=i.isAspect,h=void 0===a||a;this._$$headingWrap=this._getElements(e),this._speed=s,this._aspect=l,this._isAspect=h,this._parentWidth=0,this._scrollY=window.scrollY||window.pageYOffset,this._animationFrameId=0,this._originalHeight=this._$$headingWrap.clientHeight,this._onResize=this._onResize.bind(this)}return r()(t,[{key:"init",value:function(){this._isAspect&&this._setAspect(),this._setOriginalHeight(),this._onListener()}},{key:"_onListener",value:function(){this._tick(),window.addEventListener("resize",this._onResize)}},{key:"_onResize",value:function(){this._scrollY=window.scrollY||window.pageYOffset,this._isAspect&&(this._setAspect(),this._setOriginalHeight())}},{key:"_tick",value:function(){var t=this,e=window.scrollY||window.pageYOffset;this._scrollY!==this._scrollTop&&(this._scrollY=e,this._onScroll()),this._animationFrameId=requestAnimationFrame(function(){return t._tick()})}},{key:"_onScroll",value:function(){var t=1-this._scrollY*this._speed/this._originalHeight;this._$$headingWrap.style.height="".concat(this._originalHeight*t,"px")}},{key:"_setOriginalHeight",value:function(){var t=0;t=this._isAspect?this._$$headingWrap.clientWidth*this._aspect:this._$$headingWrap.clientHeight,this._originalHeight=t}},{key:"_setAspect",value:function(){this._parentWidth=this._$$headingWrap.clientWidth,this._$$headingWrap.style.height="".concat(this._parentWidth*this._aspect-this._scrollY,"px")}},{key:"_getElements",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return"string"==typeof t?e.getElementById(t):t}}]),t}();window.addEventListener("DOMContentLoaded",function(){var t=document.querySelector(".js-test-bg"),e=document.querySelectorAll(".js-test-panele"),i=new a(e),n=new h("js-test-heading-wrap"),o=new l(t);i.init(),n.init(),o.init()})}]);