!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,n){"use strict";function i(){}function o(e){return e?Array.prototype.slice.call(e,0):[]}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return"string"==typeof e?o(t.querySelectorAll(e)):e.length?e.map?e:o(e):[e]}n.r(t),n.d(t,"noop",function(){return i}),n.d(t,"getElements",function(){return s})},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}e.exports=function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}},function(e,t,n){n(4),e.exports=n(0)},function(e,t,n){"use strict";n.r(t);var i=n(1),o=n.n(i),s=n(2),r=n.n(s),a=n(0),l=function(){function e(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(o()(this,e),this._els=Object(a.getElements)(t),0!==this._els.length){var s=i.onResize,r=void 0===s?function(){return null}:s,l=i.onScroll,u=void 0===l?function(){return null}:l,c=i.isRound,d=void 0!==c&&c,h=i.autoRun,f=void 0===h||h;this._optionOnResize=r,this._optionOnScroll=u,this._fTansform="_getTransform".concat(d?"Round":""),this._scrollTarget=document.scrollingElement||document.documentElement,this._onResize=function(){n.update(),n._optionOnResize(n._windowHeight)},window.addEventListener("resize",this._onResize),this._onLoad=function(){n.update()},window.addEventListener("load",this._onLoad),f&&this.run()}else this._disabled=!0}return r()(e,[{key:"update",value:function(){this._disabled||(this._cache(),this._update())}},{key:"_cache",value:function(){var e=this;this._windowHeight=window.innerHeight;var t=window.scrollY||window.pageYOffset;this._items=this._els.map(function(n){n.style.transform="none";var i=window.getComputedStyle(n).willChange;return n.style.willChange="transform","auto"!==i&&"transform"!==i&&(n.style.willChange+=", "+i),e._cacheElementPos(n,t)})}},{key:"_cacheElementPos",value:function(e,t){var n=e.getBoundingClientRect(),i=e.parentNode.getBoundingClientRect(),o=i.top+t-this._windowHeight,s=i.bottom+t;return{el:e,max:i.height-n.height,inPos:o,outPos:s,distance:s-o,offset:i.top-n.top}}},{key:"_tick",value:function(){var e=this,t=this._scrollTarget.scrollTop;t!==this._scrollTop&&(this._scrollTop=t,this._update()),this._animationFrameId=requestAnimationFrame(function(){e._tick()})}},{key:"_update",value:function(){var e=this;this._items.forEach(function(t){return e._updateElement(t)}),this._optionOnScroll(this._scrollTop)}},{key:"_updateElement",value:function(e){if(this._scrollTop>e.outPos);else{var t=this._scrollTop-e.inPos;if(t>0){var n=t/e.distance,i=e.offset+e.max-e.max*n;e.el.style.transform=this[this._fTansform](i)}}}},{key:"_getTransform",value:function(e){return"translate3d(0, ".concat(e,"px, 0)")}},{key:"_getTransformRound",value:function(e){return"translate3d(0, ".concat(Math.round(e),"px, 0)")}},{key:"run",value:function(){var e=this;this._disabled||(this._cache(),this._animationFrameId=requestAnimationFrame(function(){return e._tick()}))}},{key:"destroy",value:function(){this._els&&(cancelAnimationFrame(this._animationFrameId),this._els.forEach(function(e){e.style.transform=null,e.style.willChange=null}),window.removeEventListener("resize",this._onResize),window.removeEventListener("load",this._onLoad))}}]),e}(),u=function(){function e(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(o()(this,e),this._els=Object(a.getElements)(t),0!==this._els.length){var s=i.speed,r=void 0===s?.1:s,l=i.speedSp,u=void 0===l?r:l,c=i.isSP,d=void 0===c?function(){return null}:c,h=i.onResize,f=void 0===h?function(){return null}:h,_=i.onScroll,p=void 0===_?function(){return null}:_,m=i.isRound,v=void 0!==m&&m,g=i.autoRun,w=void 0===g||g,y=i.isHeading,T=void 0!==y&&y;this._optionOnResize=f,this._optionOnScroll=p,this._fTansform="_getTransform".concat(v?"Round":""),this._scrollTarget=document.scrollingElement||document.documentElement,this._speedPc=r,this._speedSp=u,this._isSP=d,this._isHeading=T,this._onResize=function(){n.update(),n._optionOnResize(n._windowHeight)},window.addEventListener("resize",this._onResize),this._onLoad=function(){n.update()},window.addEventListener("load",this._onLoad),w&&this.run()}else this._disabled=!0}return r()(e,[{key:"_cache",value:function(){var e=this;this._isSpCurrent=this._isSP(),this._speed=this._isSpCurrent?this._speedSp:this._speedPc,this._speed*=window.innerWidth/window.innerHeight,this._windowHeight=window.innerHeight;var t=window.scrollY||window.pageYOffset;this._items=this._els.map(function(n){n.style.transform="none";var i=window.getComputedStyle(n).willChange;return n.style.willChange="transform","auto"!==i&&"transform"!==i&&(n.style.willChange+=", "+i),e._cacheElementPos(n,t)}).filter(function(e){return e})}},{key:"_tick",value:function(){var e=this,t=this._scrollTarget.scrollTop;t!==this._scrollTop&&(this._scrollTop=t,this._update()),this._animationFrameId=requestAnimationFrame(function(){e._tick()})}},{key:"_update",value:function(){var e=this;this._centerViewport=this._scrollTop+this._windowHeight/2,this._items.forEach(function(t){return e._updateElement(t)}),this._optionOnScroll(this._scrollTop)}},{key:"_getTransform",value:function(e){return"translate3d(0, ".concat(e,"px, 0)")}},{key:"_getTransformRound",value:function(e){return"translate3d(0, ".concat(Math.round(e),"px, 0)")}},{key:"_cacheElementPos",value:function(e,t){if(!this._isSpCurrent||"false"!==e.dataset.sp){var n=e.getBoundingClientRect(),i=n.top+t;return{el:e,top:i,center:i+n.height/2,speed:parseFloat(e.dataset.speed,10)||this._speed,inPos:i-this._windowHeight,outPos:n.bottom+t}}}},{key:"_updateElement",value:function(e){if(this._scrollTop>e.outPos);else if(this._scrollTop>e.inPos){var t=this._isHeading?this._scrollTop*e.speed:(e.center-this._centerViewport)*e.speed;e.el.style.transform=this[this._fTansform](t)}}},{key:"run",value:function(){var e=this;this._disabled||(this._cache(),this._animationFrameId=requestAnimationFrame(function(){e._tick()}))}},{key:"update",value:function(){this._disabled||(this._cache(),this._update())}},{key:"destroy",value:function(){this._els&&(cancelAnimationFrame(this._animationFrameId),this._els.forEach(function(e){e.style.transform=null,e.style.willChange=null}),window.removeEventListener("resize",this._onResize),window.removeEventListener("load",this._onLoad))}}]),e}();window.addEventListener("DOMContentLoaded",function(){var e=document.querySelector(".js-test-bg"),t=document.querySelector(".js-test-heading"),n=document.querySelectorAll(".js-test-panele");console.log(n),new l(e),new u(t,{isHeading:!0,isRound:!1}),new u(n,{onScroll:function(){console.log("scroll")}})})}]);